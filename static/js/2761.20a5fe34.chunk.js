"use strict";(self.webpackChunkdellace=self.webpackChunkdellace||[]).push([[2761],{62761:(e,a,r)=>{r.r(a),r.d(a,{default:()=>u});var t=r(9950),s=r(5216),d=r(86781),l=r(68459),i=r(28429),o=r(92229),c=r(52278),n=r(21130);var m=r(44414);const u=function(){const e=(0,i.zy)(),{search:a}=e,[r,u]=(0,t.useState)([]),[x,f]=(0,t.useState)({}),[v,N]=(0,t.useState)(1),[h,g]=(0,t.useState)(10),[j,b]=(0,t.useState)(""),[y,C]=(0,t.useState)([{dataField:"",order:""}]),[p,F]=(0,t.useState)(!1),[P,w]=(0,t.useState)(),[A,D]=(0,t.useState)(0);(0,t.useEffect)((()=>{if(a){var e;const r=(0,c.Xf)(a);if(f(r),N(null!==(e=null===r||void 0===r?void 0:r.page)&&void 0!==e?e:1),null!==r&&void 0!==r&&r.sortType){const e=[{order:(0,c.BN)(null===r||void 0===r?void 0:r.sortType),dataField:null===r||void 0===r?void 0:r.sortBy}];C(e)}else C({dataField:"",order:""})}}),[e]);const S=[{dataField:"id",text:"ID",formatter:e=>(0,c.JD)(e)},{dataField:"parentCategoryId",text:"Hub",formatter:e=>(0,c.JD)(e)},{dataField:"categoryOrder",text:"Customer Name",formatter:(e,a)=>(0,c.JD)((0,c.dS)(null===a||void 0===a?void 0:a.firstName,null===a||void 0===a?void 0:a.lastName))},{dataField:"phoneNumber",text:"Number",formatter:(e,a)=>(0,c.JD)(null===a||void 0===a?void 0:a.phoneNumber)},{dataField:"image",text:"Customer Address",formatter:e=>(0,c.JD)(e)},{dataField:"sortingOrder",text:"Delivery Executive",formatter:e=>(0,c.JD)(e)},{dataField:"sortingOrder",text:"Customer Type",formatter:(e,a)=>{var r;return(0,c.JD)(null===a||void 0===a||null===(r=a.Customer)||void 0===r?void 0:r.customerType)}},{dataField:"sortingOrder",text:"Wallet Amount",formatter:e=>(0,c.JD)(e)},{dataField:"sortingOrder",text:"Credit Limit",formatter:(e,a)=>{var r;return(0,c.JD)(null===a||void 0===a||null===(r=a.Customer)||void 0===r?void 0:r.creditLimit)}},{dataField:"sortingOrder",text:"Source",formatter:e=>(0,c.JD)(e)},{dataField:"sortingOrder",text:"Cutomer Class",formatter:(e,a)=>{var r;return(0,c.JD)((0,c.mq)(null===a||void 0===a||null===(r=a.Customer)||void 0===r?void 0:r.customerClass))}},{dataField:"sortingOrder",text:"Other Language",formatter:(e,a)=>{var r;return(0,c.JD)(null===a||void 0===a||null===(r=a.Customer)||void 0===r?void 0:r.language)}},{dataField:"sortingOrder",text:"Registered On",formatter:(e,a)=>{var r;return(0,c.bf)(null===a||void 0===a||null===(r=a.Customer)||void 0===r?void 0:r.createdAt,"DD MMM YYYY, hh:mm a")}},{dataField:"status",text:"Account Status",formatter:e=>(0,c.JD)((0,c.mq)(e))},{dataField:"action",text:"Action",headerClasses:"d-flex justify-content-end",formatter:(e,a)=>(0,o.PW)([{name:"Update",icon:"icon ni ni-pen",path:"#addForm",action:"confirm",onClickHandle:()=>{}}])}],B=()=>{F(!0),u([]),w(0),D(0)};return(0,t.useEffect)((()=>{(async()=>{F(!0);try{let e={offset:(v-1)*h,limit:h,sortBy:null===x||void 0===x?void 0:x.sortBy,sortType:null===x||void 0===x?void 0:x.sortType,name:j,userType:"customer"};const a=await n.NQ.getCustomerList(e),{success:r,data:t}=a;r&&(u(t.rows),w(t.count>0?Math.ceil(t.count/h):1),D(t.count))}catch(e){(0,c.vF)(e)}F(!1)})()}),[x]),(0,m.jsxs)("div",{className:"nk-block-head nk-block-head-sm",children:[(0,m.jsx)("div",{className:"nk-block-between",children:(0,m.jsx)(s.A,{className:"w-100 rounded-2 mb-4",children:(0,m.jsx)(s.A.Body,{children:(0,m.jsx)(o.zY,{heading:"Customer"})})})}),(0,m.jsx)(s.A,{className:"customerPage",children:(0,m.jsxs)(s.A.Body,{className:"p-4",children:[(0,m.jsxs)(d.A,{children:[(0,m.jsx)(l.A,{xxl:3,lg:4,children:(0,m.jsxs)("div",{className:"cardBox d-flex align-items-center",children:[(0,m.jsx)("div",{className:"cardBox_left",children:(0,m.jsx)("em",{className:"icon ni ni-user-list-fill"})}),(0,m.jsxs)("div",{className:"cardBox_right w-100",children:[(0,m.jsx)("div",{children:(0,m.jsx)("p",{className:"mb-0",children:"New Registrations"})}),(0,m.jsx)("div",{children:(0,m.jsx)("h2",{className:"mb-0",children:"0"})})]})]})}),(0,m.jsx)(l.A,{xxl:3,lg:4,children:(0,m.jsxs)("div",{className:"cardBox d-flex align-items-center",children:[(0,m.jsx)("div",{className:"cardBox_left",children:(0,m.jsx)("em",{className:"icon ni ni-users-fill"})}),(0,m.jsxs)("div",{className:"cardBox_right w-100",children:[(0,m.jsx)("div",{children:(0,m.jsx)("p",{className:"mb-0",children:"Total Customers"})}),(0,m.jsx)("div",{children:(0,m.jsx)("h2",{className:"mb-0",children:"8336"})})]})]})})]}),(0,m.jsx)(o.bQ,{sizePerPagination:!1,hasLimit:!0,noOfPage:P,sizePerPage:h,page:v,count:A,tableData:r,tableColumns:S,defaultSort:y,tableLoader:p,setSizePerPage:g,tableReset:B,getSearchValue:e=>{b(e),e&&B()},searchPlaceholder:"Category"})]})})]})}},5216:(e,a,r)=>{r.d(a,{A:()=>O});var t=r(48738),s=r.n(t),d=r(9950),l=r(44089),i=r(44414);const o=d.forwardRef(((e,a)=>{let{className:r,bsPrefix:t,as:d="div",...o}=e;return t=(0,l.oU)(t,"card-body"),(0,i.jsx)(d,{ref:a,className:s()(r,t),...o})}));o.displayName="CardBody";const c=o,n=d.forwardRef(((e,a)=>{let{className:r,bsPrefix:t,as:d="div",...o}=e;return t=(0,l.oU)(t,"card-footer"),(0,i.jsx)(d,{ref:a,className:s()(r,t),...o})}));n.displayName="CardFooter";const m=n;var u=r(22063);const x=d.forwardRef(((e,a)=>{let{bsPrefix:r,className:t,as:o="div",...c}=e;const n=(0,l.oU)(r,"card-header"),m=(0,d.useMemo)((()=>({cardHeaderBsPrefix:n})),[n]);return(0,i.jsx)(u.A.Provider,{value:m,children:(0,i.jsx)(o,{ref:a,...c,className:s()(t,n)})})}));x.displayName="CardHeader";const f=x,v=d.forwardRef(((e,a)=>{let{bsPrefix:r,className:t,variant:d,as:o="img",...c}=e;const n=(0,l.oU)(r,"card-img");return(0,i.jsx)(o,{ref:a,className:s()(d?"".concat(n,"-").concat(d):n,t),...c})}));v.displayName="CardImg";const N=v,h=d.forwardRef(((e,a)=>{let{className:r,bsPrefix:t,as:d="div",...o}=e;return t=(0,l.oU)(t,"card-img-overlay"),(0,i.jsx)(d,{ref:a,className:s()(r,t),...o})}));h.displayName="CardImgOverlay";const g=h,j=d.forwardRef(((e,a)=>{let{className:r,bsPrefix:t,as:d="a",...o}=e;return t=(0,l.oU)(t,"card-link"),(0,i.jsx)(d,{ref:a,className:s()(r,t),...o})}));j.displayName="CardLink";const b=j;var y=r(27611);const C=(0,y.A)("h6"),p=d.forwardRef(((e,a)=>{let{className:r,bsPrefix:t,as:d=C,...o}=e;return t=(0,l.oU)(t,"card-subtitle"),(0,i.jsx)(d,{ref:a,className:s()(r,t),...o})}));p.displayName="CardSubtitle";const F=p,P=d.forwardRef(((e,a)=>{let{className:r,bsPrefix:t,as:d="p",...o}=e;return t=(0,l.oU)(t,"card-text"),(0,i.jsx)(d,{ref:a,className:s()(r,t),...o})}));P.displayName="CardText";const w=P,A=(0,y.A)("h5"),D=d.forwardRef(((e,a)=>{let{className:r,bsPrefix:t,as:d=A,...o}=e;return t=(0,l.oU)(t,"card-title"),(0,i.jsx)(d,{ref:a,className:s()(r,t),...o})}));D.displayName="CardTitle";const S=D,B=d.forwardRef(((e,a)=>{let{bsPrefix:r,className:t,bg:d,text:o,border:n,body:m=!1,children:u,as:x="div",...f}=e;const v=(0,l.oU)(r,"card");return(0,i.jsx)(x,{ref:a,...f,className:s()(t,v,d&&"bg-".concat(d),o&&"text-".concat(o),n&&"border-".concat(n)),children:m?(0,i.jsx)(c,{children:u}):u})}));B.displayName="Card";const O=Object.assign(B,{Img:N,Title:S,Subtitle:F,Body:c,Link:b,Text:w,Header:f,Footer:m,ImgOverlay:g})},22063:(e,a,r)=>{r.d(a,{A:()=>s});const t=r(9950).createContext(null);t.displayName="CardHeaderContext";const s=t},27611:(e,a,r)=>{r.d(a,{A:()=>i});var t=r(9950),s=r(48738),d=r.n(s),l=r(44414);const i=e=>t.forwardRef(((a,r)=>(0,l.jsx)("div",{...a,ref:r,className:d()(a.className,e)})))}}]);