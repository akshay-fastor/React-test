"use strict";(self.webpackChunkdellace=self.webpackChunkdellace||[]).push([[6591],{6591:(e,a,s)=>{s.r(a),s.d(a,{default:()=>x});var t=s(9950),r=s(5216),d=s(28429),l=s(92229),n=s(52278),i=s(21130),o=s(57266),c=s(31984),m=s(29714);var u=s(44414);const f=function(e){const{onSubmit:a,loading:s,formData:t}=e,r={image:(null===t||void 0===t?void 0:t.image)||"",name:(null===t||void 0===t?void 0:t.name)||""};return(0,u.jsx)(o.l1,{initialValues:{...r},validationSchema:m.Ik().shape({name:m.Yj().required("Brand name is required"),image:m.Yj().required("Brand image is required")}),onSubmit:a,enableReinitialize:!0,children:e=>(0,u.jsxs)(o.lV,{children:[(0,u.jsxs)("div",{className:"form-group",children:[(0,u.jsx)("label",{className:"form-label",children:"Banner Title"}),(0,u.jsx)("div",{className:"form-control-wrap",children:(0,u.jsx)(l.pd,{id:"name",className:"form-control",name:"name",disabled:!1,variant:"standard",type:"text",placeholder:"Enter title",setFieldValue:e.handleChange})})]}),(0,u.jsxs)("div",{className:"form-group",children:[(0,u.jsx)("label",{className:"form-label",children:"Banner Image"}),(0,u.jsx)("div",{className:"form-group",children:(0,u.jsx)("div",{className:"upload_photo mb-2 mb-md-3 mx-auto text-center",children:(0,u.jsx)("div",{className:"img-box",children:(0,u.jsx)(l.c9,{name:"image",apiEndPoints:c.$U.profileImage,type:"file",defaultImageUrl:"",setFieldValue:e.handleChange})})})})]}),(0,u.jsx)("div",{className:"form-group text-center",children:(0,u.jsx)(l.mU,{htmlType:"submit",type:"submit",loading:s,extraClassName:"btn btn-primary ripple-effect",children:null!==t&&void 0!==t&&t.id?"Update Banner":"Add Banner"})})]})})};const x=function(){const e=(0,d.zy)(),{search:a}=e,[s,o]=(0,t.useState)([]),[c,m]=(0,t.useState)({}),[x,v]=(0,t.useState)(1),[N,h]=(0,t.useState)(10),[b,p]=(0,t.useState)(""),[j,y]=(0,t.useState)([{dataField:"",order:""}]),[g,B]=(0,t.useState)(!1),[w,C]=(0,t.useState)(),[P,S]=(0,t.useState)(0),[R,U]=(0,t.useState)(!1),[k,A]=(0,t.useState)(""),[F,T]=(0,t.useState)(!1);(0,t.useEffect)((()=>{if(a){var e;const s=(0,n.Xf)(a);if(m(s),v(null!==(e=null===s||void 0===s?void 0:s.page)&&void 0!==e?e:1),null!==s&&void 0!==s&&s.sortType){const e=[{order:(0,n.BN)(null===s||void 0===s?void 0:s.sortType),dataField:null===s||void 0===s?void 0:s.sortBy}];y(e)}else y({dataField:"",order:""})}}),[e]);const I=e=>{U(!0),A(e)},z=async()=>{B(!0);try{let e={offset:(x-1)*N,limit:N,sortBy:null===c||void 0===c?void 0:c.sortBy,sortType:null===c||void 0===c?void 0:c.sortType,name:b};const a=await i.NR.getBannerData(e),{success:s,data:t}=a;s&&(o(t.rows),C(t.count>0?Math.ceil(t.count/N):1),S(t.count))}catch(e){(0,n.vF)(e)}B(!1)},D=[{dataField:"name",text:"Title",formatter:e=>(0,n.JD)(e)},{dataField:"thumbnailUrl",text:"Banner Image",formatter:(e,a)=>null!==a&&void 0!==a&&a.thumbnailUrl?(0,l.AN)(e):"-"},{dataField:"BrandBanner",text:"Brand Banner",formatter:e=>(0,n.JD)(e)},{dataField:"action",text:"Action",headerClasses:"d-flex justify-content-end",formatter:(e,a)=>(0,l.PW)((e=>[{name:"Edit",icon:"icon ni ni-pen",path:"#addForm",action:"confirm",onClickHandle:()=>{I(e)}}])(a))}],H=()=>{B(!0),o([]),C(0),S(0)};return(0,t.useEffect)((()=>{z()}),[c]),(0,u.jsxs)("div",{className:"nk-block-head nk-block-head-sm",children:[(0,u.jsxs)("div",{className:"nk-block-between",children:[(0,u.jsx)(r.A,{className:"w-100 rounded-2 mb-4",children:(0,u.jsx)(r.A.Body,{children:(0,u.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,u.jsx)(l.zY,{heading:"Banners"}),(0,u.jsx)(l.G7,{btnText:"Add Brand",onHandleShow:e=>{e.preventDefault(),I()},btnArray:["create"]})]})})}),(0,u.jsx)(l.zf,{onHandleCancel:()=>{U(!1),A("")},show:R,title:null!==k&&void 0!==k&&k.id?"Edit Brand":"Add Brand",children:(0,u.jsx)(f,{formData:k,onSubmit:async e=>{T(!0);try{let a={...e};const s=k?await(null===i.NR||void 0===i.NR?void 0:i.NR.updateBanner(null===k||void 0===k?void 0:k.id,a)):await(null===i.NR||void 0===i.NR?void 0:i.NR.addBanner(a));null!==s&&void 0!==s&&s.success&&((0,n.Vy)({type:"success",message:null===s||void 0===s?void 0:s.message}),U(!1),A(""),H(),z())}catch(a){(0,n.vF)(a)}T(!1)},loading:F})})]}),(0,u.jsx)(l.bQ,{sizePerPagination:!1,hasLimit:!0,noOfPage:w,sizePerPage:N,page:x,count:P,tableData:s,tableColumns:D,defaultSort:j,tableLoader:g,setSizePerPage:h,tableReset:H,getSearchValue:e=>{p(e),e&&H()},searchPlaceholder:"Brand Name"})]})}},5216:(e,a,s)=>{s.d(a,{A:()=>A});var t=s(48738),r=s.n(t),d=s(9950),l=s(44089),n=s(44414);const i=d.forwardRef(((e,a)=>{let{className:s,bsPrefix:t,as:d="div",...i}=e;return t=(0,l.oU)(t,"card-body"),(0,n.jsx)(d,{ref:a,className:r()(s,t),...i})}));i.displayName="CardBody";const o=i,c=d.forwardRef(((e,a)=>{let{className:s,bsPrefix:t,as:d="div",...i}=e;return t=(0,l.oU)(t,"card-footer"),(0,n.jsx)(d,{ref:a,className:r()(s,t),...i})}));c.displayName="CardFooter";const m=c;var u=s(22063);const f=d.forwardRef(((e,a)=>{let{bsPrefix:s,className:t,as:i="div",...o}=e;const c=(0,l.oU)(s,"card-header"),m=(0,d.useMemo)((()=>({cardHeaderBsPrefix:c})),[c]);return(0,n.jsx)(u.A.Provider,{value:m,children:(0,n.jsx)(i,{ref:a,...o,className:r()(t,c)})})}));f.displayName="CardHeader";const x=f,v=d.forwardRef(((e,a)=>{let{bsPrefix:s,className:t,variant:d,as:i="img",...o}=e;const c=(0,l.oU)(s,"card-img");return(0,n.jsx)(i,{ref:a,className:r()(d?"".concat(c,"-").concat(d):c,t),...o})}));v.displayName="CardImg";const N=v,h=d.forwardRef(((e,a)=>{let{className:s,bsPrefix:t,as:d="div",...i}=e;return t=(0,l.oU)(t,"card-img-overlay"),(0,n.jsx)(d,{ref:a,className:r()(s,t),...i})}));h.displayName="CardImgOverlay";const b=h,p=d.forwardRef(((e,a)=>{let{className:s,bsPrefix:t,as:d="a",...i}=e;return t=(0,l.oU)(t,"card-link"),(0,n.jsx)(d,{ref:a,className:r()(s,t),...i})}));p.displayName="CardLink";const j=p;var y=s(27611);const g=(0,y.A)("h6"),B=d.forwardRef(((e,a)=>{let{className:s,bsPrefix:t,as:d=g,...i}=e;return t=(0,l.oU)(t,"card-subtitle"),(0,n.jsx)(d,{ref:a,className:r()(s,t),...i})}));B.displayName="CardSubtitle";const w=B,C=d.forwardRef(((e,a)=>{let{className:s,bsPrefix:t,as:d="p",...i}=e;return t=(0,l.oU)(t,"card-text"),(0,n.jsx)(d,{ref:a,className:r()(s,t),...i})}));C.displayName="CardText";const P=C,S=(0,y.A)("h5"),R=d.forwardRef(((e,a)=>{let{className:s,bsPrefix:t,as:d=S,...i}=e;return t=(0,l.oU)(t,"card-title"),(0,n.jsx)(d,{ref:a,className:r()(s,t),...i})}));R.displayName="CardTitle";const U=R,k=d.forwardRef(((e,a)=>{let{bsPrefix:s,className:t,bg:d,text:i,border:c,body:m=!1,children:u,as:f="div",...x}=e;const v=(0,l.oU)(s,"card");return(0,n.jsx)(f,{ref:a,...x,className:r()(t,v,d&&"bg-".concat(d),i&&"text-".concat(i),c&&"border-".concat(c)),children:m?(0,n.jsx)(o,{children:u}):u})}));k.displayName="Card";const A=Object.assign(k,{Img:N,Title:U,Subtitle:w,Body:o,Link:j,Text:P,Header:x,Footer:m,ImgOverlay:b})},22063:(e,a,s)=>{s.d(a,{A:()=>r});const t=s(9950).createContext(null);t.displayName="CardHeaderContext";const r=t},27611:(e,a,s)=>{s.d(a,{A:()=>n});var t=s(9950),r=s(48738),d=s.n(r),l=s(44414);const n=e=>t.forwardRef(((a,s)=>(0,l.jsx)("div",{...a,ref:s,className:d()(a.className,e)})))}}]);