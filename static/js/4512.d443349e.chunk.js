"use strict";(self.webpackChunkdellace=self.webpackChunkdellace||[]).push([[4512],{24512:(e,a,s)=>{s.r(a),s.d(a,{default:()=>x});var r=s(9950),t=s(5216),d=s(28429),l=s(92229),n=s(52278),i=s(21130),o=s(57266),c=s(31984),m=s(29714);var u=s(44414);const f=function(e){const{onSubmit:a,loading:s,formData:r}=e,t={image:(null===r||void 0===r?void 0:r.image)||"",name:(null===r||void 0===r?void 0:r.name)||""};return(0,u.jsx)(o.l1,{initialValues:{...t},validationSchema:m.Ik().shape({name:m.Yj().required("Brand name is required"),image:m.Yj().required("Brand image is required")}),onSubmit:a,enableReinitialize:!0,children:e=>(0,u.jsxs)(o.lV,{children:[(0,u.jsxs)("div",{className:"form-group",children:[(0,u.jsx)("label",{className:"form-label",children:"Brand Name"}),(0,u.jsx)("div",{className:"form-control-wrap",children:(0,u.jsx)(l.pd,{id:"name",className:"form-control",name:"name",disabled:!1,variant:"standard",type:"text",placeholder:"Enter brand name",setFieldValue:e.handleChange})})]}),(0,u.jsxs)("div",{className:"form-group",children:[(0,u.jsx)("label",{className:"form-label",children:"Brand Image"}),(0,u.jsx)("div",{className:"form-group",children:(0,u.jsx)("div",{className:"upload_photo mb-2 mb-md-3 mx-auto text-center",children:(0,u.jsx)("div",{className:"img-box",children:(0,u.jsx)(l.c9,{name:"image",apiEndPoints:c.$U.profileImage,type:"file",defaultImageUrl:"",setFieldValue:e.handleChange})})})})]}),(0,u.jsx)("div",{className:"form-group text-center",children:(0,u.jsx)(l.mU,{htmlType:"submit",type:"submit",loading:s,extraClassName:"btn btn-primary ripple-effect",children:null!==r&&void 0!==r&&r.id?"Update Brand":"Add Brand"})})]})})};const x=function(){const e=(0,d.zy)(),{search:a}=e,[s,o]=(0,r.useState)([]),[c,m]=(0,r.useState)({}),[x,v]=(0,r.useState)(1),[h,b]=(0,r.useState)(10),[N,p]=(0,r.useState)(""),[j,y]=(0,r.useState)([{dataField:"",order:""}]),[g,B]=(0,r.useState)(!1),[w,C]=(0,r.useState)(),[P,S]=(0,r.useState)(0),[U,k]=(0,r.useState)(!1),[A,F]=(0,r.useState)(""),[R,T]=(0,r.useState)(!1);(0,r.useEffect)((()=>{if(a){var e;const s=(0,n.Xf)(a);if(m(s),v(null!==(e=null===s||void 0===s?void 0:s.page)&&void 0!==e?e:1),null!==s&&void 0!==s&&s.sortType){const e=[{order:(0,n.BN)(null===s||void 0===s?void 0:s.sortType),dataField:null===s||void 0===s?void 0:s.sortBy}];y(e)}else y({dataField:"",order:""})}}),[e]);const Y=e=>{k(!0),F(e)},I=async()=>{B(!0);try{let e={offset:(x-1)*h,limit:h,sortBy:null===c||void 0===c?void 0:c.sortBy,sortType:null===c||void 0===c?void 0:c.sortType,name:N};const a=await i.Yc.getBrandList(e),{success:s,data:r}=a;s&&(o(r.rows),C(r.count>0?Math.ceil(r.count/h):1),S(r.count))}catch(e){(0,n.vF)(e)}B(!1)},z=[{dataField:"name",text:"Brand Name",formatter:e=>(0,n.JD)(e)},{dataField:"thumbnailUrl",text:"Brand Thumnails",formatter:(e,a)=>null!==a&&void 0!==a&&a.thumbnailUrl?(0,l.AN)(e):"-"},{dataField:"BrandBanner",text:"Brand Banner",formatter:e=>(0,n.JD)(e)},{dataField:"action",text:"Action",headerClasses:"d-flex justify-content-end",formatter:(e,a)=>(0,l.PW)((e=>[{name:"Edit",icon:"icon ni ni-pen",path:"#addForm",action:"confirm",onClickHandle:()=>{Y(e)}}])(a))}],H=()=>{B(!0),o([]),C(0),S(0)};return(0,r.useEffect)((()=>{I()}),[c]),(0,u.jsxs)("div",{className:"nk-block-head nk-block-head-sm",children:[(0,u.jsxs)("div",{className:"nk-block-between",children:[(0,u.jsx)(t.A,{className:"w-100 rounded-2 mb-4",children:(0,u.jsx)(t.A.Body,{children:(0,u.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,u.jsx)(l.zY,{heading:"Brands"}),(0,u.jsx)(l.G7,{btnText:"Add Brand",onHandleShow:e=>{e.preventDefault(),Y()},btnArray:["create"]})]})})}),(0,u.jsx)(l.zf,{onHandleCancel:()=>{k(!1),F("")},show:U,title:null!==A&&void 0!==A&&A.id?"Edit Brand":"Add Brand",children:(0,u.jsx)(f,{formData:A,onSubmit:async e=>{T(!0);try{let a={...e};const s=A?await(null===i.Yc||void 0===i.Yc?void 0:i.Yc.updateBrand(null===A||void 0===A?void 0:A.id,a)):await(null===i.Yc||void 0===i.Yc?void 0:i.Yc.addBrand(a));null!==s&&void 0!==s&&s.success&&((0,n.Vy)({type:"success",message:null===s||void 0===s?void 0:s.message}),k(!1),F(""),H(),I())}catch(a){(0,n.vF)(a)}T(!1)},loading:R})})]}),(0,u.jsx)(l.bQ,{sizePerPagination:!1,hasLimit:!0,noOfPage:w,sizePerPage:h,page:x,count:P,tableData:s,tableColumns:z,defaultSort:j,tableLoader:g,setSizePerPage:b,tableReset:H,getSearchValue:e=>{p(e),e&&H()},searchPlaceholder:"Brand Name"})]})}},5216:(e,a,s)=>{s.d(a,{A:()=>F});var r=s(48738),t=s.n(r),d=s(9950),l=s(44089),n=s(44414);const i=d.forwardRef(((e,a)=>{let{className:s,bsPrefix:r,as:d="div",...i}=e;return r=(0,l.oU)(r,"card-body"),(0,n.jsx)(d,{ref:a,className:t()(s,r),...i})}));i.displayName="CardBody";const o=i,c=d.forwardRef(((e,a)=>{let{className:s,bsPrefix:r,as:d="div",...i}=e;return r=(0,l.oU)(r,"card-footer"),(0,n.jsx)(d,{ref:a,className:t()(s,r),...i})}));c.displayName="CardFooter";const m=c;var u=s(22063);const f=d.forwardRef(((e,a)=>{let{bsPrefix:s,className:r,as:i="div",...o}=e;const c=(0,l.oU)(s,"card-header"),m=(0,d.useMemo)((()=>({cardHeaderBsPrefix:c})),[c]);return(0,n.jsx)(u.A.Provider,{value:m,children:(0,n.jsx)(i,{ref:a,...o,className:t()(r,c)})})}));f.displayName="CardHeader";const x=f,v=d.forwardRef(((e,a)=>{let{bsPrefix:s,className:r,variant:d,as:i="img",...o}=e;const c=(0,l.oU)(s,"card-img");return(0,n.jsx)(i,{ref:a,className:t()(d?"".concat(c,"-").concat(d):c,r),...o})}));v.displayName="CardImg";const h=v,b=d.forwardRef(((e,a)=>{let{className:s,bsPrefix:r,as:d="div",...i}=e;return r=(0,l.oU)(r,"card-img-overlay"),(0,n.jsx)(d,{ref:a,className:t()(s,r),...i})}));b.displayName="CardImgOverlay";const N=b,p=d.forwardRef(((e,a)=>{let{className:s,bsPrefix:r,as:d="a",...i}=e;return r=(0,l.oU)(r,"card-link"),(0,n.jsx)(d,{ref:a,className:t()(s,r),...i})}));p.displayName="CardLink";const j=p;var y=s(27611);const g=(0,y.A)("h6"),B=d.forwardRef(((e,a)=>{let{className:s,bsPrefix:r,as:d=g,...i}=e;return r=(0,l.oU)(r,"card-subtitle"),(0,n.jsx)(d,{ref:a,className:t()(s,r),...i})}));B.displayName="CardSubtitle";const w=B,C=d.forwardRef(((e,a)=>{let{className:s,bsPrefix:r,as:d="p",...i}=e;return r=(0,l.oU)(r,"card-text"),(0,n.jsx)(d,{ref:a,className:t()(s,r),...i})}));C.displayName="CardText";const P=C,S=(0,y.A)("h5"),U=d.forwardRef(((e,a)=>{let{className:s,bsPrefix:r,as:d=S,...i}=e;return r=(0,l.oU)(r,"card-title"),(0,n.jsx)(d,{ref:a,className:t()(s,r),...i})}));U.displayName="CardTitle";const k=U,A=d.forwardRef(((e,a)=>{let{bsPrefix:s,className:r,bg:d,text:i,border:c,body:m=!1,children:u,as:f="div",...x}=e;const v=(0,l.oU)(s,"card");return(0,n.jsx)(f,{ref:a,...x,className:t()(r,v,d&&"bg-".concat(d),i&&"text-".concat(i),c&&"border-".concat(c)),children:m?(0,n.jsx)(o,{children:u}):u})}));A.displayName="Card";const F=Object.assign(A,{Img:h,Title:k,Subtitle:w,Body:o,Link:j,Text:P,Header:x,Footer:m,ImgOverlay:N})},22063:(e,a,s)=>{s.d(a,{A:()=>t});const r=s(9950).createContext(null);r.displayName="CardHeaderContext";const t=r},27611:(e,a,s)=>{s.d(a,{A:()=>n});var r=s(9950),t=s(48738),d=s.n(t),l=s(44414);const n=e=>r.forwardRef(((a,s)=>(0,l.jsx)("div",{...a,ref:s,className:d()(a.className,e)})))}}]);